#!/bin/bash
set -euo pipefail

# links=(
	# "https://hi4d.ait.ethz.ch/download.php?dt=def50200cd8c8a592d10547582dca3c5f3a4a2bb9f5563d43d11d265c7644e20b28fa917f14170decab44d9c19b44ad074e5b28d3a662bdc684cb42a8c152e6c19713e62b1d325408823aca0f6245117806c41aab2ef603a3bfb0dd0fb7e917f25171f6968e0c112d8b05cf74d25&file=/pair00_1.tar.gz"
	# "https://hi4d.ait.ethz.ch/download.php?dt=def50200cd8c8a592d10547582dca3c5f3a4a2bb9f5563d43d11d265c7644e20b28fa917f14170decab44d9c19b44ad074e5b28d3a662bdc684cb42a8c152e6c19713e62b1d325408823aca0f6245117806c41aab2ef603a3bfb0dd0fb7e917f25171f6968e0c112d8b05cf74d25&file=/pair00_2.tar.gz"
	# "https://hi4d.ait.ethz.ch/download.php?dt=def50200cd8c8a592d10547582dca3c5f3a4a2bb9f5563d43d11d265c7644e20b28fa917f14170decab44d9c19b44ad074e5b28d3a662bdc684cb42a8c152e6c19713e62b1d325408823aca0f6245117806c41aab2ef603a3bfb0dd0fb7e917f25171f6968e0c112d8b05cf74d25&file=/pair01.tar.gz"
	# "https://hi4d.ait.ethz.ch/download.php?dt=def50200cd8c8a592d10547582dca3c5f3a4a2bb9f5563d43d11d265c7644e20b28fa917f14170decab44d9c19b44ad074e5b28d3a662bdc684cb42a8c152e6c19713e62b1d325408823aca0f6245117806c41aab2ef603a3bfb0dd0fb7e917f25171f6968e0c112d8b05cf74d25&file=/pair15_1.tar.gz"
	# "https://hi4d.ait.ethz.ch/download.php?dt=def50200cd8c8a592d10547582dca3c5f3a4a2bb9f5563d43d11d265c7644e20b28fa917f14170decab44d9c19b44ad074e5b28d3a662bdc684cb42a8c152e6c19713e62b1d325408823aca0f6245117806c41aab2ef603a3bfb0dd0fb7e917f25171f6968e0c112d8b05cf74d25&file=/pair15_2.tar.gz"
	# "https://hi4d.ait.ethz.ch/download.php?dt=def50200cd8c8a592d10547582dca3c5f3a4a2bb9f5563d43d11d265c7644e20b28fa917f14170decab44d9c19b44ad074e5b28d3a662bdc684cb42a8c152e6c19713e62b1d325408823aca0f6245117806c41aab2ef603a3bfb0dd0fb7e917f25171f6968e0c112d8b05cf74d25&file=/pair16.tar.gz"
	# "https://hi4d.ait.ethz.ch/download.php?dt=def50200cd8c8a592d10547582dca3c5f3a4a2bb9f5563d43d11d265c7644e20b28fa917f14170decab44d9c19b44ad074e5b28d3a662bdc684cb42a8c152e6c19713e62b1d325408823aca0f6245117806c41aab2ef603a3bfb0dd0fb7e917f25171f6968e0c112d8b05cf74d25&file=/pair17_1.tar.gz"
	# "https://hi4d.ait.ethz.ch/download.php?dt=def50200cd8c8a592d10547582dca3c5f3a4a2bb9f5563d43d11d265c7644e20b28fa917f14170decab44d9c19b44ad074e5b28d3a662bdc684cb42a8c152e6c19713e62b1d325408823aca0f6245117806c41aab2ef603a3bfb0dd0fb7e917f25171f6968e0c112d8b05cf74d25&file=/pair17_2.tar.gz"
	# "https://hi4d.ait.ethz.ch/download.php?dt=def50200cd8c8a592d10547582dca3c5f3a4a2bb9f5563d43d11d265c7644e20b28fa917f14170decab44d9c19b44ad074e5b28d3a662bdc684cb42a8c152e6c19713e62b1d325408823aca0f6245117806c41aab2ef603a3bfb0dd0fb7e917f25171f6968e0c112d8b05cf74d25&file=/pair19_1.tar.gz"
	# "https://hi4d.ait.ethz.ch/download.php?dt=def50200cd8c8a592d10547582dca3c5f3a4a2bb9f5563d43d11d265c7644e20b28fa917f14170decab44d9c19b44ad074e5b28d3a662bdc684cb42a8c152e6c19713e62b1d325408823aca0f6245117806c41aab2ef603a3bfb0dd0fb7e917f25171f6968e0c112d8b05cf74d25&file=/pair19_2.tar.gz"
# )

links=(
	"https://hi4d.ait.ethz.ch/download.php?dt=def50200dd279fd907e92d971c839c1b664d3e6d718cd10fd2a87636901f4a8dd92d66a8d9c69abcde9a2b25724bc9b69cf74979bcf6ec79c99431d506e512dc3f46887be1b0d0ceed67d39f99437bbd1d4ed9bf5085200b2cd4aff1dece03e5fdfd1d01c3fc97e73611e8d15096&file=/pair02_1.tar.gz"
	"https://hi4d.ait.ethz.ch/download.php?dt=def50200dd279fd907e92d971c839c1b664d3e6d718cd10fd2a87636901f4a8dd92d66a8d9c69abcde9a2b25724bc9b69cf74979bcf6ec79c99431d506e512dc3f46887be1b0d0ceed67d39f99437bbd1d4ed9bf5085200b2cd4aff1dece03e5fdfd1d01c3fc97e73611e8d15096&file=/pair02_2.tar.gz"
	"https://hi4d.ait.ethz.ch/download.php?dt=def50200dd279fd907e92d971c839c1b664d3e6d718cd10fd2a87636901f4a8dd92d66a8d9c69abcde9a2b25724bc9b69cf74979bcf6ec79c99431d506e512dc3f46887be1b0d0ceed67d39f99437bbd1d4ed9bf5085200b2cd4aff1dece03e5fdfd1d01c3fc97e73611e8d15096&file=/pair09.tar.gz"
	"https://hi4d.ait.ethz.ch/download.php?dt=def50200dd279fd907e92d971c839c1b664d3e6d718cd10fd2a87636901f4a8dd92d66a8d9c69abcde9a2b25724bc9b69cf74979bcf6ec79c99431d506e512dc3f46887be1b0d0ceed67d39f99437bbd1d4ed9bf5085200b2cd4aff1dece03e5fdfd1d01c3fc97e73611e8d15096&file=/pair10.tar.gz"
	"https://hi4d.ait.ethz.ch/download.php?dt=def50200dd279fd907e92d971c839c1b664d3e6d718cd10fd2a87636901f4a8dd92d66a8d9c69abcde9a2b25724bc9b69cf74979bcf6ec79c99431d506e512dc3f46887be1b0d0ceed67d39f99437bbd1d4ed9bf5085200b2cd4aff1dece03e5fdfd1d01c3fc97e73611e8d15096&file=/pair12.tar.gz"
	"https://hi4d.ait.ethz.ch/download.php?dt=def50200dd279fd907e92d971c839c1b664d3e6d718cd10fd2a87636901f4a8dd92d66a8d9c69abcde9a2b25724bc9b69cf74979bcf6ec79c99431d506e512dc3f46887be1b0d0ceed67d39f99437bbd1d4ed9bf5085200b2cd4aff1dece03e5fdfd1d01c3fc97e73611e8d15096&file=/pair13_1.tar.gz"
	"https://hi4d.ait.ethz.ch/download.php?dt=def50200dd279fd907e92d971c839c1b664d3e6d718cd10fd2a87636901f4a8dd92d66a8d9c69abcde9a2b25724bc9b69cf74979bcf6ec79c99431d506e512dc3f46887be1b0d0ceed67d39f99437bbd1d4ed9bf5085200b2cd4aff1dece03e5fdfd1d01c3fc97e73611e8d15096&file=/pair13_2.tar.gz"
	"https://hi4d.ait.ethz.ch/download.php?dt=def50200dd279fd907e92d971c839c1b664d3e6d718cd10fd2a87636901f4a8dd92d66a8d9c69abcde9a2b25724bc9b69cf74979bcf6ec79c99431d506e512dc3f46887be1b0d0ceed67d39f99437bbd1d4ed9bf5085200b2cd4aff1dece03e5fdfd1d01c3fc97e73611e8d15096&file=/pair14.tar.gz"
	"https://hi4d.ait.ethz.ch/download.php?dt=def50200dd279fd907e92d971c839c1b664d3e6d718cd10fd2a87636901f4a8dd92d66a8d9c69abcde9a2b25724bc9b69cf74979bcf6ec79c99431d506e512dc3f46887be1b0d0ceed67d39f99437bbd1d4ed9bf5085200b2cd4aff1dece03e5fdfd1d01c3fc97e73611e8d15096&file=/pair18_1.tar.gz"
	"https://hi4d.ait.ethz.ch/download.php?dt=def50200dd279fd907e92d971c839c1b664d3e6d718cd10fd2a87636901f4a8dd92d66a8d9c69abcde9a2b25724bc9b69cf74979bcf6ec79c99431d506e512dc3f46887be1b0d0ceed67d39f99437bbd1d4ed9bf5085200b2cd4aff1dece03e5fdfd1d01c3fc97e73611e8d15096&file=/pair18_2.tar.gz"
	"https://hi4d.ait.ethz.ch/download.php?dt=def50200dd279fd907e92d971c839c1b664d3e6d718cd10fd2a87636901f4a8dd92d66a8d9c69abcde9a2b25724bc9b69cf74979bcf6ec79c99431d506e512dc3f46887be1b0d0ceed67d39f99437bbd1d4ed9bf5085200b2cd4aff1dece03e5fdfd1d01c3fc97e73611e8d15096&file=/pair21_1.tar.gz"
	"https://hi4d.ait.ethz.ch/download.php?dt=def50200dd279fd907e92d971c839c1b664d3e6d718cd10fd2a87636901f4a8dd92d66a8d9c69abcde9a2b25724bc9b69cf74979bcf6ec79c99431d506e512dc3f46887be1b0d0ceed67d39f99437bbd1d4ed9bf5085200b2cd4aff1dece03e5fdfd1d01c3fc97e73611e8d15096&file=/pair21_2.tar.gz"
	"https://hi4d.ait.ethz.ch/download.php?dt=def50200dd279fd907e92d971c839c1b664d3e6d718cd10fd2a87636901f4a8dd92d66a8d9c69abcde9a2b25724bc9b69cf74979bcf6ec79c99431d506e512dc3f46887be1b0d0ceed67d39f99437bbd1d4ed9bf5085200b2cd4aff1dece03e5fdfd1d01c3fc97e73611e8d15096&file=/pair22.tar.gz"
	"https://hi4d.ait.ethz.ch/download.php?dt=def50200dd279fd907e92d971c839c1b664d3e6d718cd10fd2a87636901f4a8dd92d66a8d9c69abcde9a2b25724bc9b69cf74979bcf6ec79c99431d506e512dc3f46887be1b0d0ceed67d39f99437bbd1d4ed9bf5085200b2cd4aff1dece03e5fdfd1d01c3fc97e73611e8d15096&file=/pair23_1.tar.gz"
	"https://hi4d.ait.ethz.ch/download.php?dt=def50200dd279fd907e92d971c839c1b664d3e6d718cd10fd2a87636901f4a8dd92d66a8d9c69abcde9a2b25724bc9b69cf74979bcf6ec79c99431d506e512dc3f46887be1b0d0ceed67d39f99437bbd1d4ed9bf5085200b2cd4aff1dece03e5fdfd1d01c3fc97e73611e8d15096&file=/pair23_2.tar.gz"
	"https://hi4d.ait.ethz.ch/download.php?dt=def50200dd279fd907e92d971c839c1b664d3e6d718cd10fd2a87636901f4a8dd92d66a8d9c69abcde9a2b25724bc9b69cf74979bcf6ec79c99431d506e512dc3f46887be1b0d0ceed67d39f99437bbd1d4ed9bf5085200b2cd4aff1dece03e5fdfd1d01c3fc97e73611e8d15096&file=/pair27_1.tar.gz"
	"https://hi4d.ait.ethz.ch/download.php?dt=def50200dd279fd907e92d971c839c1b664d3e6d718cd10fd2a87636901f4a8dd92d66a8d9c69abcde9a2b25724bc9b69cf74979bcf6ec79c99431d506e512dc3f46887be1b0d0ceed67d39f99437bbd1d4ed9bf5085200b2cd4aff1dece03e5fdfd1d01c3fc97e73611e8d15096&file=/pair27_2.tar.gz"
	"https://hi4d.ait.ethz.ch/download.php?dt=def50200dd279fd907e92d971c839c1b664d3e6d718cd10fd2a87636901f4a8dd92d66a8d9c69abcde9a2b25724bc9b69cf74979bcf6ec79c99431d506e512dc3f46887be1b0d0ceed67d39f99437bbd1d4ed9bf5085200b2cd4aff1dece03e5fdfd1d01c3fc97e73611e8d15096&file=/pair28.tar.gz"
	"https://hi4d.ait.ethz.ch/download.php?dt=def50200dd279fd907e92d971c839c1b664d3e6d718cd10fd2a87636901f4a8dd92d66a8d9c69abcde9a2b25724bc9b69cf74979bcf6ec79c99431d506e512dc3f46887be1b0d0ceed67d39f99437bbd1d4ed9bf5085200b2cd4aff1dece03e5fdfd1d01c3fc97e73611e8d15096&file=/pair32_1.tar.gz"
	"https://hi4d.ait.ethz.ch/download.php?dt=def50200dd279fd907e92d971c839c1b664d3e6d718cd10fd2a87636901f4a8dd92d66a8d9c69abcde9a2b25724bc9b69cf74979bcf6ec79c99431d506e512dc3f46887be1b0d0ceed67d39f99437bbd1d4ed9bf5085200b2cd4aff1dece03e5fdfd1d01c3fc97e73611e8d15096&file=/pair32_2.tar.gz"
	"https://hi4d.ait.ethz.ch/download.php?dt=def50200dd279fd907e92d971c839c1b664d3e6d718cd10fd2a87636901f4a8dd92d66a8d9c69abcde9a2b25724bc9b69cf74979bcf6ec79c99431d506e512dc3f46887be1b0d0ceed67d39f99437bbd1d4ed9bf5085200b2cd4aff1dece03e5fdfd1d01c3fc97e73611e8d15096&file=/pair37_1.tar.gz"
	"https://hi4d.ait.ethz.ch/download.php?dt=def50200dd279fd907e92d971c839c1b664d3e6d718cd10fd2a87636901f4a8dd92d66a8d9c69abcde9a2b25724bc9b69cf74979bcf6ec79c99431d506e512dc3f46887be1b0d0ceed67d39f99437bbd1d4ed9bf5085200b2cd4aff1dece03e5fdfd1d01c3fc97e73611e8d15096&file=/pair37_2.tar.gz"
)

cd /scratch/izar/cizinsky/ait_datasets/compressed/hi4d

for url in "${links[@]}"; do
  filename=$(echo "$url" | sed -n 's/.*file=\/\([^&]*\)/\1/p')
  echo "Downloading $filename ..."
  wget -c --tries=5 --waitretry=5 --retry-connrefused -O "$filename" "$url"
  echo "âœ… Finished: $filename"
  echo
done

echo "ðŸŽ‰ All downloads completed."
