scene_name: ???

# --- Debugging and visualization
debug: False # if true -> disable wandb logging
visualise_cam_preds: True

# --- Input / output paths
output_dir: /scratch/izar/cizinsky/thesis/output/${scene_name}
preprocess_dir: ${output_dir}/preprocess
train_dir: ${output_dir}/training
split: train # dataset split to use for training (train/val)

# --- Training settings
# Track ID of the person to train the 3DGS on
tid: 1 
# Number of training iterations
iters: 30000
save_freq: 5000 # frequency of saving the canonical model
val_fids: [] # list of frame ids to use for validation (only if split=='val')

# --- General system settings to control memory usage and speed
# Device to use for training
device: cuda
# Resolution of the input video frames (width, height)
downscale: 2 
# if true -> use packed gaussian representation (more memory efficient)
packed: False 

# --- 3DGS settings
gs_refine_every: 100      # frequency of applying the densification strategy
gs_refine_stop_iter: 5000 # stop applying the densification strategy after these many iterations

# --- Loss and regularization weights
# L1 loss weight
l1_lambda: 1.0
# SSIM loss weight 
ssim_lambda: 0.5
# Opacity loss weight
opa_lambda: 0.01 
opa_free_radius: 0.01  # meters tolerated w/o penalty
# Opacity and scale regularization weights
opacity_reg: 0.01
scale_reg: 0.01
# type of masking
mask_type: tight_crop  # bbox_crop, bbox, tight_crop and tight
# means anchor (ma)
ma_lambda: 1.0          # strength
ma_free_radius: 0.001   # meters tolerated w/o penalty

# --- Learning rates for the model parameters
# LR for 3D point positions
means_lr: 1.6e-4 
# LR for 3D point scale factors
scales_lr: 5e-3 
# LR for 3D point orientations (quaternions)
quats_lr: 1e-3 
# LR for 3D point opacities
opacities_lr: 5e-2 
# LR for 3D point colors (spherical harmonics coefficients)
sh_degree: 3 
sh0_lr: 2.5e-3 
shN_lr: 1.25e-4 


# --- Wandb logging settings
logger:
  project: master-thesis
  entity: ludekcizinsky
  tags: [dev]
  run_id: null # this is for resuming

# --- Hydra settings
hydra:
  run:
    dir: /scratch/izar/cizinsky/thesis/hydra/${now:%Y-%m-%d}_${now:%H-%M-%S}
  job:
    chdir: False